<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Valentine</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@500&display=swap" rel="stylesheet">
  <style>
  * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  }
  body {
  height: 100vh;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
  background: #b30000;
  color: white;
  font-family: 'Playfair Display', serif;
  }
  section {
  height: 100vh;
  scroll-snap-align: start;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 20px;
  }
  h1 {
  font-family: 'Great Vibes', cursive;
  font-size: 4rem;
  margin-bottom: 20px;
  }
  p {
  font-size: 1.2rem;
  margin-bottom: 30px;
  }
  .swipe-hint {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  font-size: 0.75rem;
  margin-bottom: 18px;
  }
  .arrow {
  width: 34px;
  height: 34px;
  animation: bounce 1.5s infinite;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  }
  .arrow:focus-visible {
  outline: 3px solid rgba(255, 255, 255, 0.9);
  outline-offset: 6px;
  border-radius: 10px;
  }
  .arrow::before {
  content: "";
  width: 16px;
  height: 16px;
  border-right: 4px solid #ffffff;
  border-bottom: 4px solid #ffffff;
  transform: rotate(45deg);
  display: block;
  }
  @keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(10px); }
  }

  @keyframes heartbeat {
  0%   { transform: scale(1); }
  10%  { transform: scale(1.08); }
  18%  { transform: scale(0.98); }
  28%  { transform: scale(1.06); }
  40%  { transform: scale(1); }
  100% { transform: scale(1); }
  }

  #heartRain {
  position: fixed;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 9999;
  }
  .heart {
  position: absolute;
  top: -12vh;
  left: 0;
  color: rgba(255, 225, 235, 0.95);
  text-shadow: 0 10px 22px rgba(0, 0, 0, 0.25);
  transform: translate3d(0, 0, 0) rotate(0deg);
  opacity: 0.85;
  will-change: transform, opacity;
  animation: heart-fall var(--dur, 4s) linear var(--delay, 0s) forwards;
  }
  @keyframes heart-fall {
  0% {
  transform: translate3d(0, 0, 0) rotate(0deg);
  opacity: 0;
  }
  10% {
  opacity: var(--opacity, 0.85);
  }
  100% {
  transform: translate3d(var(--drift, 0px), 120vh, 0) rotate(var(--spin, 360deg));
  opacity: 0;
  }
  }

  @media (prefers-reduced-motion: reduce) {
  .yes { animation: none; }
  .arrow { animation: none; }
  #photoWrap { transition: none; }
  #result { transition: none; }
  #result.show { transition: none; }
  .fade-away { transition: none; }
  #heartRain { display: none; }
  }
  #question h1 {
  margin-top: 40px;
  }
  .fade-away {
  opacity: 0;
  transform: translateY(-10px);
  filter: blur(0.2px);
  pointer-events: none;
  transition: opacity 520ms ease, transform 520ms ease, filter 520ms ease;
  }
  #photoWrap {
  display: inline-block;
  transition: transform 900ms cubic-bezier(0.2, 0.9, 0.2, 1), filter 900ms ease;
  }
  #photoWrap.photo-down {
  transform: translateY(24px) scale(1.02);
  filter: drop-shadow(0 18px 45px rgba(0, 0, 0, 0.35));
  }
  #result {
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 750ms ease, transform 750ms ease;
  }
  #result.show {
  opacity: 1;
  transform: translateY(0);
  }
  .photo {
  width: min(360px, 85vw);
  height: min(360px, 42vh);
  object-fit: cover;
  border-radius: 18px;
  margin: 18px 0 6px;
  box-shadow: 0 14px 35px rgba(0, 0, 0, 0.35);
  border: 2px solid rgba(255, 255, 255, 0.35);
  }
  .buttons {
  display: flex;
  gap: 20px;
  margin-top: 20px;
  width: min(460px, 100%);
  }
  button {
  padding: 12px 25px;
  font-size: 1.1rem;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  font-family: 'Playfair Display', serif;
  flex: 1;
  }
  .yes {
  background: white;
  color: #b30000;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  flex: 1.6;
  animation: heartbeat 1.35s ease-in-out infinite;
  will-change: transform;
  }
  .yes:hover,
  .yes:focus-visible {
  animation-play-state: paused;
  transform: scale(1.07);
  box-shadow: 0 14px 35px rgba(0, 0, 0, 0.35);
  }
  .no {
  background: #ff4d4d;
  color: white;
  opacity: 0.5;
  cursor: not-allowed;
  }
  .hidden {
  display: none;
  }
  .message {
  font-size: 2.5rem;
  font-family: 'Great Vibes', cursive;
  margin-top: 30px;
  }
  </style>
</head>
<body>
  <div id="heartRain" aria-hidden="true"></div>
  <!-- Screen 1 -->
  <section>
  <h1>Hi MuIrie</h1>
  <p class="swipe-hint">Swipe down for a special message</p>
  <div class="arrow" role="button" tabindex="0" aria-label="Go to the message"></div>
  </section>
  <!-- Screen 2 -->
  <section id="question">
    <picture id="photoWrap">
  <img class="photo" src="IMG_3652.jpg" alt="Our photo" loading="lazy" decoding="async" />
  </picture>
    <h1>Will you be my Valentine<br/>for the first time?</h1>

  <div class="buttons">
  <button class="yes" onclick="sayYes()">Yes</button>
  </div>
  <div id="result" class="hidden">
  <div class="message">Congratulations<br/>You are now my Valentine</div>
  </div>
  </section>
  <script>
  const arrow = document.querySelector('.arrow');
  arrow?.addEventListener('click', () => {
  document.getElementById('question')?.scrollIntoView({ behavior: 'smooth' });
  });
  arrow?.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' || e.key === ' ') {
         e.preventDefault();
         document.getElementById('question')?.scrollIntoView({ behavior: 'smooth' });
  }
  });

    function startHeartRain() {
    if (window.matchMedia?.('(prefers-reduced-motion: reduce)')?.matches) return;

    const container = document.getElementById('heartRain');
    if (!container) return;

    const heartCount = 800;
    for (let i = 0; i < heartCount; i++) {
    const delayMs = i * 55 + Math.random() * 220;
    setTimeout(() => {
    const heart = document.createElement('span');
    heart.className = 'heart';
    heart.textContent = 'â™¥';

    const left = Math.random() * 100;
    const fontSize = 14 + Math.random() * 22;
    const duration = 2.8 + Math.random() * 2.6;
    const drift = (Math.random() * 2 - 1) * 70;
    const spin = (Math.random() < 0.5 ? -1 : 1) * (220 + Math.random() * 520);
    const opacity = 0.55 + Math.random() * 0.35;

    heart.style.left = `${left}vw`;
    heart.style.fontSize = `${fontSize}px`;
    heart.style.setProperty('--dur', `${duration}s`);
    heart.style.setProperty('--delay', `${Math.random() * 0.35}s`);
    heart.style.setProperty('--drift', `${drift}px`);
    heart.style.setProperty('--spin', `${spin}deg`);
    heart.style.setProperty('--opacity', `${opacity}`);

    heart.addEventListener('animationend', () => heart.remove(), { once: true });
    container.appendChild(heart);
    }, delayMs);
    }
    }

  function sayYes() {
  const result = document.getElementById('result');
  const photoWrap = document.getElementById('photoWrap');
  const questionHeading = document.querySelector('#question h1');
  const buttons = document.querySelector('#question .buttons');
  questionHeading?.classList.add('fade-away');
  buttons?.classList.add('fade-away');
  photoWrap?.classList.add('photo-down');
    startHeartRain();
  result.classList.remove('hidden');
  requestAnimationFrame(() => result.classList.add('show'));
  setTimeout(() => {
  questionHeading?.classList.add('hidden');
  buttons?.classList.add('hidden');
  }, 560);
  result.scrollIntoView({ behavior: 'smooth' });
  }
  </script>
 </body>
 </html>
